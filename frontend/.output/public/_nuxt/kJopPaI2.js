import{T as V,r as e}from"./CgBFakhS.js";import{getArticles as k,getArticleById as z,getMusicList as S,getImageList as x,getVideoList as P,getCategories as T}from"./C4XRcB4j.js";const J=V("content",()=>{const s=e([]),m=e(null),l=e(!1),c=e(1),o=e(0),r=e(!0),n=e(!1),f=e([]),g=e(!1),A=e([]),y=e(!1),I=e([]),d=e(!1),w=e([]),L=e(!1),i=e(null),M=async t=>{const{page:a=1,size:u=10,categoryId:p,tagId:B,append:v=!1}=t||{};if((a===1||p!==i.value)&&(c.value=1,o.value=0,r.value=!0,v||(s.value=[]),i.value=p||null),!(!r.value||n.value)){v?n.value=!0:l.value=!0;try{const h=await k({page:a,size:u,categoryId:p,tagId:B}),C=h.list||[];return v?s.value=[...s.value,...C]:s.value=C,o.value=h.total||0,c.value=a,r.value=s.value.length<o.value,h}finally{v?n.value=!1:l.value=!1}}};return{articles:s,currentArticle:m,articleLoading:l,currentPage:c,totalArticles:o,hasMore:r,isLoadingMore:n,categories:w,categoryLoading:L,currentCategoryId:i,musicList:f,musicLoading:g,imageList:A,imageLoading:y,videoList:I,videoLoading:d,fetchArticles:M,fetchArticleById:async t=>{l.value=!0;try{const a=await z(t),u={...a,collects:a.collects||0,likes:a.likes||0};return m.value=u,u}finally{l.value=!1}},loadMoreArticles:async()=>{if(!(!r.value||n.value))return await M({page:c.value+1,size:10,categoryId:i.value||void 0,append:!0})},fetchCategories:async()=>{L.value=!0;try{const t=await T();return w.value=t||[],t}finally{L.value=!1}},fetchMusicList:async()=>{g.value=!0;try{const t=await S();return f.value=(t||[]).map(a=>({...a,scores:a.scores||[]})),f.value}finally{g.value=!1}},fetchImageList:async t=>{y.value=!0;try{const a=await x(t);return A.value=a||[],a}finally{y.value=!1}},fetchVideoList:async()=>{d.value=!0;try{const t=await P();return I.value=t||[],t}finally{d.value=!1}}}});export{J as u};
