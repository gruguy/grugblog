import{e as g,r as y,x as C,F as M,o as p,w,c as v,H as _,I as k,N as z,a as l,t as B,$ as V,_ as I,a0 as h,m as d}from"./CgBFakhS.js";import{M as x}from"./awhFlHqN.js";const T={class:"flex items-center justify-between"},$={class:"flex items-center gap-2"},E={key:0,class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},j={key:1,class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},H={key:2,class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},L={key:3,class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},A=["onClick"],F=g({__name:"Message",setup(o,{expose:n}){const a=y([]);let u=0;const m=C(()=>({"top-left":"top-4 left-4","top-center":"top-4 left-1/2 transform -translate-x-1/2","top-right":"top-4 right-4","bottom-left":"bottom-4 left-4","bottom-center":"bottom-4 left-1/2 transform -translate-x-1/2","bottom-right":"bottom-4 right-4"})),i=s=>{const e=++u,t={id:e,type:s.type||"info",content:s.content,position:s.position||"top-right",duration:s.duration||3e3};return a.value.push(t),t.duration>0&&setTimeout(()=>{r(e)},t.duration),e},r=s=>{const e=a.value.findIndex(t=>t.id===s);e>-1&&a.value.splice(e,1)};return n({addMessage:i,removeMessage:r}),(s,e)=>(p(),M(V,{name:"message"},{default:w(()=>[(p(!0),v(_,null,k(a.value,t=>(p(),v("div",{key:t.id,class:z(["fixed z-50 px-4 py-3 rounded-md shadow-lg",[`bg-${t.type}`,`text-${t.type==="success"||t.type==="info"?"white":"foreground"}`,m.value[t.position]]])},[l("div",T,[l("div",$,[t.type==="success"?(p(),v("svg",E,[...e[0]||(e[0]=[l("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):t.type==="error"?(p(),v("svg",j,[...e[1]||(e[1]=[l("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1)])])):t.type==="warning"?(p(),v("svg",H,[...e[2]||(e[2]=[l("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1)])])):(p(),v("svg",L,[...e[3]||(e[3]=[l("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"},null,-1)])])),l("span",null,B(t.content),1)]),l("button",{onClick:b=>r(t.id),class:"ml-4 text-current hover:opacity-70"},[...e[4]||(e[4]=[l("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,A)])],2))),128))]),_:1}))}}),N=Object.assign(I(F,[["__scopeId","data-v-f2342583"]]),{__name:"Message"});let c=null;const f=()=>{if(!c){const o=g({render(){return d(N,{ref:"messageRef"})}}),n=h(o),a=document.createElement("div");document.body.appendChild(a),c=n.mount(a).$refs.messageRef}},U={success(o,n){return f(),c.addMessage({type:"success",content:o,...n})},error(o,n){return f(),c.addMessage({type:"error",content:o,...n})},warning(o,n){return f(),c.addMessage({type:"warning",content:o,...n})},info(o,n){return f(),c.addMessage({type:"info",content:o,...n})},close(o){c&&c.removeMessage(o)}},D=(o,n="提示")=>new Promise(a=>{const u=g({setup(){const r=y(!0),s=()=>{r.value=!1,setTimeout(()=>{m.unmount(),document.body.removeChild(i),a()},300)};return()=>d(x,{modelValue:r.value,"onUpdate:modelValue":e=>r.value=e,title:n,onClose:s},{default:()=>d("div",{class:"py-4"},o),footer:()=>d("button",{onClick:s,class:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors"},"确定")})}}),m=h(u),i=document.createElement("div");document.body.appendChild(i),m.mount(i)}),G=(o,n="确认",a)=>new Promise(u=>{const m=g({setup(){const s=y(!0),e=()=>{s.value=!1,setTimeout(()=>{i.unmount(),document.body.removeChild(r),u(!1)},300)},t=()=>{s.value=!1,setTimeout(()=>{i.unmount(),document.body.removeChild(r),u(!0)},300)};return()=>d(x,{modelValue:s.value,"onUpdate:modelValue":b=>s.value=b,title:n,onClose:e},{default:()=>d("div",{class:"py-4"},o),footer:()=>d("div",{class:"flex gap-3"},[d("button",{onClick:e,class:"px-4 py-2 border border-border rounded-md hover:bg-muted transition-colors"},"取消"),d("button",{onClick:t,class:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors"},"确认")])})}}),i=h(m),r=document.createElement("div");document.body.appendChild(r),i.mount(r)});export{D as a,G as c,U as m};
